<div nz-row>
    <h1>已安排预约</h1>
</div>
<br>
<div nz-row>
    <div nz-col [nzSpan]="22">
        <p>当前学期：2017学年第一学期（本周为第11周）</p>
    </div>
</div>
<br><br>
<nz-table #nzTable [nzDataSource]="datas" [nzPageSize]="pageSize"  [nzTotal]="datas.length" nzShowTotal="true">
    <thead nz-thead>
    <tr>
        <th nz-th nzExpand></th>
        <th nz-th><span>编号</span></th>
        <th nz-th><span>教师名称</span></th>
        <th nz-th><span>课程号</span></th>
        <th nz-th><span>课程名称</span></th>
        <th nz-th><span>课程人数</span></th>
        <th nz-th><span>创建时间</span></th>
        <th nz-th><span>最后修改时间</span></th>
    </tr>
    </thead>
    <tbody nz-tbody>
    <ng-template ngFor let-data [ngForOf]="nzTable.data">
        <tr nz-tbody-tr>
            <td nz-td nzExpand (click)="this.boolOpen(data.expand)">
                <nz-row-expand-icon [(nzExpand)]="data.expand"></nz-row-expand-icon>
            </td>
            <td nz-td>{{data.id}}</td>
            <td nz-td>{{data.userNickname}}</td>
            <td nz-td>{{data.classId}}</td>
            <td nz-td>{{data.className}}</td>
            <td nz-td>{{data.classPeoCount}}</td>
            <td nz-td>{{data.createTime}}</td>
            <td nz-td>{{data.lastModify }}</td>
        </tr>
        <tr nz-tbody-tr *ngIf="data.expand">
            <td nz-td colspan="8" style="padding: 0">
                <!--展开头-->
                <div nz-row *ngFor="let orders of orders[data.id].orderDetails">
                    <nz-alert [nzType]="'success'"  nzShowIcon="true"  style="text-align: center">
        <span alert-body >
            <span style="float: left">志愿{{orders.type}}</span>&nbsp;&nbsp;
            <span>预约时间：星期{{getDayByNum(orders.weekDays)}}</span>&nbsp;&nbsp;
             <span>预约周次：{{orders.orderWeek}}</span>&nbsp;&nbsp;
             <span>预约节次：{{orders.classNum}}</span>&nbsp;&nbsp;
             <span>班级人数：{{orders.classPeoCount}}</span>&nbsp;&nbsp;
            <!--<a *ngIf="orders.type==1" style="float: right" (click)="update(orders)">编辑</a>-->
        </span>
                    </nz-alert>
                    <nz-table #nzTable [nzAjaxData]="orders.labs"  [nzIsPagination]="false">
    <thead nz-thead>
    <tr>
        <th nz-th><span>编号</span></th>
        <th nz-th><span>实验室名称</span></th>
        <th nz-th><span>楼栋</span></th>
        <th nz-th><span>门牌号</span></th>
        <th nz-th><span>可容纳人员</span></th>
        <th nz-th><span>分类</span></th>
        <th nz-th><span>管理员</span></th>
        <th nz-th><span>分配人数</span></th>
    </tr>
    </thead>
    <tbody nz-tbody >
    <tr nz-tbody-tr *ngFor="let o of orders.labs">
        <td nz-td>{{o.id}}</td>
        <td   nz-td>{{o.labName}}</td>
        <td   nz-td>{{o.labBuild}}</td>
        <td   nz-td>{{o.labNumber}}</td>
        <td   nz-td>{{o.labPeoCount}}人</td>
        <td   nz-td>{{o.labType}}</td>
        <td   nz-td>{{o.adminUserName}}</td>
        <td   nz-td>{{o.peoCount}}人</td>
    </tr>
    </tbody>
</nz-table>
<br>
</div>
<!--展开尾-->
</td>
</tr>
</ng-template>
</tbody>
</nz-table>